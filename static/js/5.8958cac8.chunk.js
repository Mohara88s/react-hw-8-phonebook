(this["webpackJsonpreact-hw-8-phonebook"]=this["webpackJsonpreact-hw-8-phonebook"]||[]).push([[5],{100:function(e,t,n){e.exports={form:"Filter_form__3ylBr"}},101:function(e,t,n){e.exports={contact:"Contact_contact__3Ghws",contact__info:"Contact_contact__info__3TsBV",name:"Contact_name__27fqc"}},102:function(e,t,n){e.exports={contactList:"ContactList_contactList__3ioWq",error:"ContactList_error__gXhDm"}},111:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(96),c=n(97),s=n(108),o=n(107),i=n(0),u=n(113),l=n(99),b=n.n(l),m=n(8),d=n(17),j=n.n(d),h=n(23),p=n(6),f=n(20),O=n.n(f),x=n(29),v=function(e){return e.contacts.items},g=function(e){return e.contacts.filter},C={getError:function(e){return e.contacts.error},getLoading:function(e){return e.contacts.loading},getContacts:v,getFilter:g,getFiltredContacts:Object(x.a)([v,g],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},_=n(106),w=n(89),y=n(1),L=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,s=new Array(c),o=0;o<c;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={name:"",number:""},e.hendelInputChange=function(t){e.setState(Object(a.a)({},t.currentTarget.name,t.currentTarget.value))},e.hendelSubmit=function(t){if(t.preventDefault(),e.props.contacts.some((function(t){return t.name.toLowerCase()===e.state.name.toLowerCase()})))return alert("".concat(e.state.name," is already in contacts.")),void e.setState({name:"",number:""});var n={id:Object(u.a)(),name:e.state.name,number:e.state.number};e.props.onAddContact(n),e.setState({name:"",number:""})},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(y.jsxs)(_.a,{className:b.a.form,onSubmit:this.hendelSubmit,children:[Object(y.jsxs)(_.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(y.jsx)(_.a.Label,{children:"Name"}),Object(y.jsx)(_.a.Control,{type:"text",placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0490\u0491]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0490\u0491 ])?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0490\u0491]*)*$",title:"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan ...",name:"name",required:!0,onChange:this.hendelInputChange,value:this.state.name})]}),Object(y.jsxs)(_.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(y.jsx)(_.a.Label,{children:"Number"}),Object(y.jsx)(_.a.Control,{type:"tel",placeholder:"Enter number",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:this.hendelInputChange,value:this.state.number})]}),Object(y.jsx)(w.a,{variant:"primary",type:"submit",children:"Add contact"})]})}}]),n}(i.Component),A=Object(m.b)((function(e){return{contacts:C.getContacts(e)}}),(function(e){return{onAddContact:function(t){return e(function(e){return function(){var t=Object(h.a)(j.a.mark((function t(n){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(p.b)()),t.prev=1,t.next=4,O.a.post("/contacts",e);case 4:a=t.sent,r=a.data,n(Object(p.c)(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(Object(p.a)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(L),k=n(100),N=n.n(k),F=function(){var e=Object(m.d)(C.getFilter),t=Object(m.c)();return Object(y.jsxs)(_.a,{className:N.a.form,controlId:"formBasicEmail",children:[Object(y.jsx)(_.a.Label,{children:"Filter name"}),Object(y.jsx)(_.a.Control,{type:"text",placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0490\u0491]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0490\u0491 ])?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0490\u0491]*)*$",title:"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan ...",name:"filter",required:!0,onChange:function(e){return t(Object(p.d)(e.currentTarget.value))},value:e})]})},z=n(101),E=n.n(z),B=function(e){var t=e.id,n=e.name,a=e.number,r=Object(m.c)();return Object(y.jsxs)("div",{className:E.a.contact,children:[Object(y.jsxs)("div",{className:E.a.contact__info,children:[Object(y.jsx)("p",{className:E.a.name,children:n}),Object(y.jsx)("p",{className:E.a.number,children:a})]}),Object(y.jsx)(w.a,{variant:"primary",type:"button",onClick:function(){return r(function(e){return function(){var t=Object(h.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(p.f)()),t.prev=1,t.next=4,O.a.delete("/contacts/".concat(e));case 4:n(Object(p.g)(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(Object(p.e)(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:"Delete"})]})},I=n(102),S=n.n(I),T=n(90),Z=n(110),q=function(){var e=Object(m.c)();Object(i.useEffect)((function(){e(function(){var e=Object(h.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(p.i)()),e.prev=1,e.next=4,O.a.get("/contacts");case 4:n=e.sent,a=n.data,t(Object(p.j)(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Object(p.h)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(m.d)(C.getError),n=Object(m.d)(C.getLoading),a=Object(m.d)(C.getFiltredContacts);return Object(y.jsxs)(y.Fragment,{children:[n&&Object(y.jsx)(T.a,{animation:"border",variant:"primary"}),t&&Object(y.jsx)("h2",{className:S.a.error,children:t}),Object(y.jsx)(Z.a,{className:S.a.contactList,children:a.map((function(e){var t=e.id,n=e.name,a=e.number;return Object(y.jsx)(Z.a.Item,{children:Object(y.jsx)(B,{id:t,name:n,number:a})},t)}))})]})};t.default=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{children:"Phonebook"}),Object(y.jsx)(A,{}),Object(y.jsx)("h2",{children:"Contacts"}),Object(y.jsx)(F,{}),Object(y.jsx)(q,{})]})}},99:function(e,t,n){e.exports={form:"ContactForm_form__8Lp9c"}}}]);
//# sourceMappingURL=5.8958cac8.chunk.js.map